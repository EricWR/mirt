<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a user defined item with correct generic functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for createItem {mirt}"><tr><td>createItem {mirt}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create a user defined item with correct generic functions</h2>

<h3>Description</h3>

<p>Initializes the proper S4 class and methods necessary for mirt functions to use in estimation.
To use the defined objects pass to the <code>mirt(..., customItems = list())</code> command, and
ensure that the classes are properly labeled and unique in the list.
</p>


<h3>Usage</h3>

<pre>
createItem(name, par, est, P, gr = NULL, hss = NULL, gen = NULL,
  lbound = NULL, ubound = NULL, derivType = "Richardson",
  derivType.hss = "Richardson", bytecompile = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>name</code></td>
<td>
<p>a character indicating the item class name to be defined</p>
</td></tr>
<tr valign="top"><td><code>par</code></td>
<td>
<p>a named vector of the starting values for the parameters</p>
</td></tr>
<tr valign="top"><td><code>est</code></td>
<td>
<p>a logical vector indicating which parameters should be freely estimated by default</p>
</td></tr>
<tr valign="top"><td><code>P</code></td>
<td>
<p>the probability trace function for all categories (first column is category 1, second
category two, etc). First input contains a vector of all the item parameters, the second input
must be a matrix called <code>Theta</code>, and the third input must be the number of categories
called <code>ncat</code>. Function also must return a <code>matrix</code> object of category probabilities</p>
</td></tr>
<tr valign="top"><td><code>gr</code></td>
<td>
<p>gradient function (vector of first derivatives) of the log-likelihood used in
estimation. The function must be of the form <code>gr(x, Theta)</code>, where <code>x</code> is the object
defined by <code>createItem()</code> and <code>Theta</code> is a matrix of latent trait parameters.
Tabulated (EM) or raw (MHRM) data are located in the <code>x@dat</code> slot, and are used to form
the complete data log-likelihood. If not specified a numeric approximation will be used</p>
</td></tr>
<tr valign="top"><td><code>hss</code></td>
<td>
<p>Hessian function (matrix of second derivatives) of the log-likelihood used in
estimation. If not specified a numeric approximation will be used (required for the MH-RM
algorithm only). The input is identical to the <code>gr</code> argument</p>
</td></tr>
<tr valign="top"><td><code>gen</code></td>
<td>
<p>a function used when <code>GenRandomPars = TRUE</code> is passed to the estimation function
to generate random starting values. Function must be of the form <code>function(object) ...</code>
and must return a vector with properties equivalent to the <code>par</code> object. If NULL,
parameters will remain at the defined starting values by default</p>
</td></tr>
<tr valign="top"><td><code>lbound</code></td>
<td>
<p>optional vector indicating the lower bounds of the parameters. If not specified
then the bounds will be set to -Inf</p>
</td></tr>
<tr valign="top"><td><code>ubound</code></td>
<td>
<p>optional vector indicating the lower bounds of the parameters. If not specified
then the bounds will be set to Inf</p>
</td></tr>
<tr valign="top"><td><code>derivType</code></td>
<td>
<p>if the <code>gr</code> term is not specified this type will be used to
obtain the gradient numerically or symbolically. Default is the 'Richardson'
extrapolation method; see <code><a href="numerical_deriv.html">numerical_deriv</a></code> for details and other options. If
<code>'symbolic'</code> is supplied then the gradient will be computed using
a symbolical approach (potentially the most accurate method, though may fail depending
on how the <code>P</code> function was defined)</p>
</td></tr>
<tr valign="top"><td><code>derivType.hss</code></td>
<td>
<p>if the <code>hss</code> term is not specified this type will be used to
obtain the Hessian numerically. Default is the 'Richardson'
extrapolation method; see <code><a href="numerical_deriv.html">numerical_deriv</a></code> for details and other options. If
<code>'symbolic'</code> is supplied then the Hessian will be computed using
a symbolical approach (potentially the most accurate method, though may fail depending
on how the <code>P</code> function was defined)</p>
</td></tr>
<tr valign="top"><td><code>bytecompile</code></td>
<td>
<p>logical; where applicable, byte compile the functions provided? Default is
<code>TRUE</code> to provide</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>summary()</code> function will not return proper standardized loadings since the function
is not sure how to handle them (no slopes could be defined at all!). Instead loadings of .001
are filled in as place-holders.
</p>


<h3>Author(s)</h3>

<p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
doi: <a href="http://doi.org/10.18637/jss.v048.i06">10.18637/jss.v048.i06</a>
</p>


<h3>Examples</h3>

<pre><code class="r">## No test: 

name &lt;- &#39;old2PL&#39;
par &lt;- c(a = .5, b = -2)
est &lt;- c(TRUE, TRUE)
P.old2PL &lt;- function(par,Theta, ncat){
     a &lt;- par[1]
     b &lt;- par[2]
     P1 &lt;- 1 / (1 + exp(-1*a*(Theta - b)))
     cbind(1-P1, P1)
}

x &lt;- createItem(name, par=par, est=est, P=P.old2PL)

#So, let&#39;s estimate it!
dat &lt;- expand.table(LSAT7)
sv &lt;- mirt(dat, 1, c(rep(&#39;2PL&#39;,4), &#39;old2PL&#39;), customItems=list(old2PL=x), pars = &#39;values&#39;)
tail(sv) #looks good
</code></pre>

<pre><code>##    group   item     class   name parnum value lbound ubound   est
## 15   all Item.4      dich      g     15   0.0  0e+00      1 FALSE
## 16   all Item.4      dich      u     16   1.0  0e+00      1 FALSE
## 17   all Item.5    custom      a     17   0.5   -Inf    Inf  TRUE
## 18   all Item.5    custom      b     18  -2.0   -Inf    Inf  TRUE
## 19   all  GROUP GroupPars MEAN_1     19   0.0   -Inf    Inf FALSE
## 20   all  GROUP GroupPars COV_11     20   1.0  1e-04    Inf FALSE
##    prior.type prior_1 prior_2
## 15       none     NaN     NaN
## 16       none     NaN     NaN
## 17       none     NaN     NaN
## 18       none     NaN     NaN
## 19       none     NaN     NaN
## 20       none     NaN     NaN
</code></pre>

<pre><code class="r">mod &lt;- mirt(dat, 1, c(rep(&#39;2PL&#39;,4), &#39;old2PL&#39;), customItems=list(old2PL=x))
coef(mod)
</code></pre>

<pre><code>## $Item.1
##        a1     d g u
## par 0.989 1.856 0 1
## 
## $Item.2
##        a1     d g u
## par 1.081 0.808 0 1
## 
## $Item.3
##        a1     d g u
## par 1.703 1.803 0 1
## 
## $Item.4
##        a1     d g u
## par 0.766 0.486 0 1
## 
## $Item.5
##         a      b
## par 0.737 -2.518
## 
## $GroupPars
##     MEAN_1 COV_11
## par      0      1
</code></pre>

<pre><code class="r">mod2 &lt;- mirt(dat, 1, c(rep(&#39;2PL&#39;,4), &#39;old2PL&#39;), customItems=list(old2PL=x), method = &#39;MHRM&#39;)
coef(mod2)
</code></pre>

<pre><code>## $Item.1
##        a1     d g u
## par 0.985 1.851 0 1
## 
## $Item.2
##        a1    d g u
## par 1.104 0.81 0 1
## 
## $Item.3
##        a1     d g u
## par 1.625 1.755 0 1
## 
## $Item.4
##        a1     d g u
## par 0.767 0.484 0 1
## 
## $Item.5
##         a     b
## par 0.768 -2.43
## 
## $GroupPars
##     MEAN_1 COV_11
## par      0      1
</code></pre>

<pre><code class="r"># same definition as above, but using symbolic derivative computations
# (can be more accurate/stable)
xs &lt;- createItem(name, par=par, est=est, P=P.old2PL, derivType = &#39;symbolic&#39;)
mod &lt;- mirt(dat, 1, c(rep(&#39;2PL&#39;,4), &#39;old2PL&#39;), customItems=list(old2PL=xs))
coef(mod, simplify=TRUE)
</code></pre>

<pre><code>## $items
##           a1     d  g  u     a      b
## Item.1 0.989 1.856  0  1    NA     NA
## Item.2 1.081 0.808  0  1    NA     NA
## Item.3 1.703 1.803  0  1    NA     NA
## Item.4 0.766 0.486  0  1    NA     NA
## Item.5    NA    NA NA NA 0.737 -2.518
## 
## $means
## F1 
##  0 
## 
## $cov
##    F1
## F1  1
</code></pre>

<pre><code class="r">#several secondary functions supported
M2(mod, calcNull=FALSE)
</code></pre>

<pre><code>##             M2 df          p      RMSEA     RMSEA_5   RMSEA_95
## stats 11.93609  5 0.03567406 0.03726401 0.008942493 0.06496201
</code></pre>

<pre><code class="r">itemfit(mod)
</code></pre>

<pre><code>##     item   S_X2 df.S_X2 p.S_X2
## 1 Item.1  4.750       2  0.093
## 2 Item.2 14.441       2  0.001
## 3 Item.3  1.266       2  0.531
## 4 Item.4  5.241       2  0.073
## 5 Item.5  0.941       2  0.625
</code></pre>

<pre><code class="r">fscores(mod, full.scores=FALSE)
</code></pre>

<pre><code>## 
## Method:  EAP
## 
## Empirical Reliability:
## 
##     F1 
## 0.4521
</code></pre>

<pre><code>##       Item.1 Item.2 Item.3 Item.4 Item.5          F1     SE_F1
##  [1,]      0      0      0      0      0 -1.87007948 0.6927529
##  [2,]      0      0      0      0      1 -1.52697457 0.6737491
##  [3,]      0      0      0      1      0 -1.51392586 0.6732172
##  [4,]      0      0      0      1      1 -1.18482102 0.6653857
##  [5,]      0      0      1      0      0 -1.09593641 0.6652478
##  [6,]      0      0      1      0      1 -0.76739318 0.6723304
##  [7,]      0      0      1      1      0 -0.75437903 0.6728509
##  [8,]      0      0      1      1      1 -0.41205976 0.6923718
##  [9,]      0      1      0      0      0 -1.37206898 0.6684824
## [10,]      0      1      0      0      1 -1.04523454 0.6655627
## [11,]      0      1      0      1      0 -1.03248856 0.6656869
## [12,]      0      1      0      1      1 -0.70236227 0.6751047
## [13,]      0      1      1      0      0 -0.61021097 0.6797568
## [14,]      0      1      1      0      1 -0.25834218 0.7042678
## [15,]      0      1      1      1      0 -0.24404926 0.7054537
## [16,]      0      1      1      1      1  0.14056373 0.7410799
## [17,]      1      0      0      0      0 -1.41337188 0.6696576
## [18,]      1      0      0      0      1 -1.08608846 0.6652865
## [19,]      1      0      0      1      0 -1.07335417 0.6653526
## [20,]      1      0      0      1      1 -0.74429905 0.6732661
## [21,]      1      0      1      0      0 -0.65270293 0.6775093
## [22,]      1      0      1      0      1 -0.30386571 0.7005763
## [23,]      1      0      1      1      0 -0.28972318 0.7017088
## [24,]      1      0      1      1      1  0.09023055 0.7361045
## [25,]      1      1      0      0      0 -0.93341707 0.6672696
## [26,]      1      1      0      0      1 -0.59992074 0.6803267
## [27,]      1      1      0      1      0 -0.58659076 0.6810796
## [28,]      1      1      0      1      1 -0.23296102 0.7063823
## [29,]      1      1      1      0      0 -0.13150552 0.7152007
## [30,]      1      1      1      0      1  0.26515650 0.7536331
## [31,]      1      1      1      1      0  0.28153206 0.7553020
## [32,]      1      1      1      1      1  0.72728504 0.8009587
</code></pre>

<pre><code class="r">plot(mod)
</code></pre>

<p><img src="data:image/png;base64,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27bNjRdFqAafffaZL25wl+3bt/vW+7xEz549fahe7HwKhKKiooceeiglJSU/P//VV1/1rU9viTZt2uzZs8d0igr405/+tHjx4jp16kiKj49fvny56UTlUlxc/Pvf/941qH/zzTdjY2NNJyovH93gF/G597lv1Yudix4AIHvvjAUAiKIHANuj6AHA5ih6ALA5ih4AbI6iBwCbo+gBwOYoegCwOYoeAGyOogcAm6PoAcDmfO90d4CHbN++/eWXX65bt26TJk0mTJhgOg7gNhQ9IEnnz58fN27cunXrYmJihgwZ0rNnTy8/HyFQfkzdAJKUlJRkWVZMTIykq6++2nVuesAeGNEDkrR3796TJ0+OGzdO0q5du2rVqmU6EeA2jOgBSbIsq3Hjxu++++677747fPhw03EAd6LoAUlq0aJFenq66zo8J06caNu2relEgNtQ9IAkXXvttWFhYSkpKZZlrVmz5q677jKdCHAbLiUI/Gzr1q2vvvpq06ZNr7jiigcffNB0HMBtKHoAsDmmbgDA5ih6ALA5ih4AbI6iBwCbo+gBwOYoegCwOYoeAGyOogcAm6PoAcDmKHoAsDmKHgBs7v8DK0FpUyfl5KIAAAAASUVORK5CYII=" alt="plot of chunk unnamed-chunk-1"/></p>

<pre><code class="r"># fit the same model, but specify gradient function explicitly (use of a browser() may be helpful)
gr &lt;- function(x, Theta){
     # browser()
     a &lt;- x@par[1]
     b &lt;- x@par[2]
     P &lt;- probtrace(x, Theta)
     PQ &lt;- apply(P, 1, prod)
     r_P &lt;- x@dat / P
     grad &lt;- numeric(2)
     grad[2] &lt;- sum(-a * PQ * (r_P[,2] - r_P[,1]))
     grad[1] &lt;- sum((Theta - b) * PQ * (r_P[,2] - r_P[,1]))

     ## check with internal numerical form to be safe
     # numerical_deriv(mirt:::EML, x@par[x@est], obj=x, Theta=Theta)
     grad
}

x &lt;- createItem(name, par=par, est=est, P=P.old2PL, gr=gr)
mod &lt;- mirt(dat, 1, c(rep(&#39;2PL&#39;,4), &#39;old2PL&#39;), customItems=list(old2PL=x))
coef(mod, simplify=TRUE)
</code></pre>

<pre><code>## $items
##           a1     d  g  u     a      b
## Item.1 0.989 1.856  0  1    NA     NA
## Item.2 1.081 0.808  0  1    NA     NA
## Item.3 1.703 1.803  0  1    NA     NA
## Item.4 0.766 0.486  0  1    NA     NA
## Item.5    NA    NA NA NA 0.737 -2.518
## 
## $means
## F1 
##  0 
## 
## $cov
##    F1
## F1  1
</code></pre>

<pre><code class="r">###non-linear
name &lt;- &#39;nonlin&#39;
par &lt;- c(a1 = .5, a2 = .1, d = 0)
est &lt;- c(TRUE, TRUE, TRUE)
P.nonlin &lt;- function(par,Theta, ncat=2){
     a1 &lt;- par[1]
     a2 &lt;- par[2]
     d &lt;- par[3]
     P1 &lt;- 1 / (1 + exp(-1*(a1*Theta + a2*Theta^2 + d)))
     cbind(1-P1, P1)
}

x2 &lt;- createItem(name, par=par, est=est, P=P.nonlin)

mod &lt;- mirt(dat, 1, c(rep(&#39;2PL&#39;,4), &#39;nonlin&#39;), customItems=list(nonlin=x2))
coef(mod)
</code></pre>

<pre><code>## $Item.1
##        a1     d g u
## par 0.984 1.854 0 1
## 
## $Item.2
##        a1     d g u
## par 1.087 0.809 0 1
## 
## $Item.3
##        a1     d g u
## par 1.705 1.803 0 1
## 
## $Item.4
##        a1     d g u
## par 0.762 0.486 0 1
## 
## $Item.5
##        a1    a2     d
## par 0.806 0.065 1.818
## 
## $GroupPars
##     MEAN_1 COV_11
## par      0      1
</code></pre>

<pre><code class="r">###nominal response model (Bock 1972 version)
Tnom.dev &lt;- function(ncat) {
   T &lt;- matrix(1/ncat, ncat, ncat - 1)
   diag(T[-1, ]) &lt;-  diag(T[-1, ]) - 1
   return(T)
}

name &lt;- &#39;nom&#39;
par &lt;- c(alp=c(3,0,-3),gam=rep(.4,3))
est &lt;- rep(TRUE, length(par))
P.nom &lt;- function(par, Theta, ncat){
   alp &lt;- par[1:(ncat-1)]
   gam &lt;- par[ncat:length(par)]
   a &lt;- Tnom.dev(ncat) %*% alp
   c &lt;- Tnom.dev(ncat) %*% gam
   z &lt;- matrix(0, nrow(Theta), ncat)
   for(i in 1:ncat)
       z[,i] &lt;- a[i] * Theta + c[i]
   P &lt;- exp(z) / rowSums(exp(z))
   P
}

nom1 &lt;- createItem(name, par=par, est=est, P=P.nom)
nommod &lt;- mirt(Science, 1, &#39;nom1&#39;, customItems=list(nom1=nom1))
coef(nommod)
</code></pre>

<pre><code>## $Comfort
##       alp1   alp2   alp3  gam1   gam2   gam3
## par -1.553 -2.015 -3.025 -3.64 -5.906 -4.533
## 
## $Work
##       alp1   alp2   alp3   gam1   gam2   gam3
## par -0.579 -1.262 -2.523 -1.464 -2.326 -0.326
## 
## $Future
##       alp1  alp2   alp3   gam1   gam2   gam3
## par -1.553 -3.79 -6.107 -3.667 -5.863 -3.949
## 
## $Benefit
##       alp1   alp2   alp3   gam1   gam2   gam3
## par -0.808 -1.359 -2.339 -2.146 -2.913 -1.622
## 
## $GroupPars
##     MEAN_1 COV_11
## par      0      1
</code></pre>

<pre><code class="r">Tnom.dev(4) %*% coef(nommod)[[1]][1:3] #a
</code></pre>

<pre><code>##             [,1]
## [1,] -1.64818625
## [2,] -0.09535348
## [3,]  0.36680800
## [4,]  1.37673173
</code></pre>

<pre><code class="r">Tnom.dev(4) %*% coef(nommod)[[1]][4:6] #d
</code></pre>

<pre><code>##            [,1]
## [1,] -3.5197343
## [2,]  0.1197875
## [3,]  2.3864365
## [4,]  1.0135103
</code></pre>

<pre><code class="r">## End(No test)
</code></pre>


<hr /><div style="text-align: center;">[Package <em>mirt</em> version 1.27.1 <a href="00Index.html">Index</a>]</div>
</body></html>
